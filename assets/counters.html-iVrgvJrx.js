import{_ as a,r as t,o,c as p,a as n,b as e,d as c,w as i,e as r}from"./app-wfQWMRoZ.js";const l={},u=n("h1",{id:"counters",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#counters","aria-hidden":"true"},"#"),e(" Counters")],-1),d=n("h2",{id:"counter-chatbot-api",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#counter-chatbot-api","aria-hidden":"true"},"#"),e(" Counter Chatbot API")],-1),v=n("p",null,[e("Our chatbot has a basic set of Database functions, this is almost a key value store ordered by the key and value combined. We lazy-load the data from the database. This means that if you use "),n("code",null,"set"),e(" and then make a "),n("code",null,"db"),e(", you may still have cached data.")],-1),m=r(`<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>db(&#39;counters&#39;).example</code></td><td>Fetch the <code>example</code> from the <code>counters</code> table.</td></tr><tr><td><code>inc(&#39;counters&#39;, &#39;example&#39;, 1)</code></td><td>Increment the <code>example</code> from the <code>counters</code> table.</td></tr><tr><td><code>dec(&#39;counters&#39;, &#39;example&#39;, 1)</code></td><td>Decrement the <code>example</code> from the <code>counters</code> table.</td></tr><tr><td><code>set(&#39;counters&#39;, &#39;example&#39;, 1)</code></td><td>Set the <code>example</code> from the <code>counters</code> table.</td></tr></tbody></table><h2 id="counter-http-api" tabindex="-1"><a class="header-anchor" href="#counter-http-api" aria-hidden="true">#</a> Counter HTTP API</h2><p>You can use the following API to interact with the counters. Most of these endpoints are designed to accept multiple counters at once to reduce the amount of requests.</p><h3 id="get-counters" tabindex="-1"><a class="header-anchor" href="#get-counters" aria-hidden="true">#</a> Get Counters</h3><p>Get all counters for a given bot.</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /v1/bots/2/counters
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;active&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-counter" tabindex="-1"><a class="header-anchor" href="#create-counter" aria-hidden="true">#</a> Create Counter</h3><p>Create a set of counters for a given bot. At least one counter is required.</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /v1/bots/2/counters
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// null is default</span>
        <span class="token property">&quot;active&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// true is default</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="update-counter" tabindex="-1"><a class="header-anchor" href="#update-counter" aria-hidden="true">#</a> Update Counter</h3><p>Update a set of counters for a given bot. At least one counter is required.</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PATCH /v1/bots/2/counters
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;keyword&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
        <span class="token property">&quot;active&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// optional</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token comment">// optional, if not set, the value will not be updated</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set-increment-decrement-counter" tabindex="-1"><a class="header-anchor" href="#set-increment-decrement-counter" aria-hidden="true">#</a> Set, Increment, Decrement Counter</h3><p>Set, increment or decrement a set of counters for a given bot. At least one counter is required.</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /v1/bots/2/counters/values
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;increment&quot;</span> <span class="token comment">// increment, decrement, set</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="delete-counters" tabindex="-1"><a class="header-anchor" href="#delete-counters" aria-hidden="true">#</a> Delete Counters</h3><p>Delete a set of counters for a given bot. At least one counter is required.</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>DELETE /v1/bots/2/counters
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uuid&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18);function k(h,b){const s=t("RouterLink");return o(),p("div",null,[u,d,v,n("p",null,[e("More information about the database can be found "),c(s,{to:"/docs/chatbot/template-reference.html#database"},{default:i(()=>[e("here")]),_:1}),e(".")]),m])}const f=a(l,[["render",k],["__file","counters.html.vue"]]);export{f as default};
